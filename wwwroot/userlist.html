
<html>

<head>
    <title> List Users </title>
    <!--<link rel="stylesheet" href="../css/bootstrap.min.css">-->

    <!--<link rel="stylesheet" href="../css/bootstrap.min.css">-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">


    <style>
        /*        body {
            background-color: #2c3034;
        }*/
    </style>
</head>

<body>



     <!--Display a table containg all users-->
    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th colspan=" 2 "> Id </th>
                <th colspan=" 2 "> Name </th>
                <th colspan=" 2 "> Salary </th>
                <th colspan=" 4 ">Address</th>
                <th colspan=" 2 "> Age </th>
                <th  colspan='2'>
                    <button class="btn btn-success" class="button">Get Users</button>
                </th>
            <tr>
        <thead>
        <tbody id="emps">
        </tbody>

        <tfoot>
            <tr >
                <td colspan=" 14 " style=" text-align : center "><span id="num"></span>  users</td>
            </tr>
        </tfoot>
    </table>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("button").click(function () {
                $.ajax({
                    //default type :get
                    // short api --internal
                    url: "/api/Employee",
                    //type:"Post",
                    success: function (result) {
                        console.log(result);
                        document.getElementById("emps").innerHTML = "";
                        let num = 0;
                        for (let emp of result) {
                            document.getElementById("emps").innerHTML += "<td colspan= '2'>" + emp.id + "</td>" + "<td colspan='2'>" + emp.name + "</td>" + "<td  colspan='2'>" + emp.salary + "</td>" + "<td  colspan='4'>" + emp.address + "</td>" + "<td  colspan='2'>" + emp.age + "</td>" + "<td colspan='2'>" + (num+1) + "</td>";
                            
                            num++;
                        }
                        document.getElementById("num").innerHTML = "";
                        document.getElementById("num").innerHTML += num;
                    }
                });
            });
        });
    </script>
    <script src="../js/jquery-3.6.1.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</body>

</html>